# Final Project Report

**Project URL**: TODO
**Video URL**: TODO

## Abstract
The data science problem we aim to address is how human well-being in cities and states influences hate crime patterns over the years. Our approach to this problem is to address these issues and offer a broader exploration into the behaviors, demographics, and other defining features behind the causes of hate crimes. Our approach first provides a high-level overview of the prevalence of hate crimes in the U.S. from 1990 to 2020. Pre-processing the data, clustering, correlation, feature importance, the timeline of hate crimes, hate crime distribution across the United States, variables contributing to the hate crime rate of each state, and analyzing hate crime statistics for cities in each state are all steps in the process. This analysis aligns with our expectation of multiple factors resulting in hate crimes. Our efforts will attempt to simulate that as much as possible. Users can explore the patterns in demographics and behaviors of a particular state and the prevalence of hate crimes in that state. The expectation is that the features associated with a state (i.e., education, racial diversity, income) would help explain patterns in hate crimes in that state. In exploring this relation, we aim to clarify what influences hate crimes and inform policy actions and decisions to address these crimes in cities and states. The further study generated from the conclusions of these results would be to explore the most defining features and focus research on how these features contribute to biases and crime.

## Introduction

In much of American history, there exists a pervasive and persistent tension between people of racial and ethnic groups. This tension has evolved into hate crimes that range from intimidation, vandalism, assault, and murder in recent years. Despite the best efforts of educators, policymakers, and community organizers, tensions seem to increase along with corresponding crime. The rise in recent hate crimes was quite disheartening. With many of us having loved ones who live in the U.S., we wanted to understand why these incidents happen so that we can develop areas for improvement.

Crime is generally well-studied in academic and public spaces. Crime data is readily accessible through local and federal law enforcement agencies such as the FBI. Hate-based crime is readily available for viewing through online tools created by these agencies and readily downloaded and manipulated for further analysis. However, these tools are limited in their purpose and conclusions.

For the public, current visualizations and tools for exploring hate crime incidents are often compiled into dashboards or graphs showcasing simple statistics of a particular crime. While this allows for creating a concise and pertinent data-driven story, it is a straightforward analysis of the data that may not be very informative. It opens several problems regarding the flexibility of the data exploration with other correlated features and the robustness of any conclusions made from the data. The graphs, charts, and even tables may not reflect the particular purpose that the user has with the data.

When our team examined news articles behind recent hate crime incidents and reflected upon our own experiences, we collectively felt that it wasn't sufficient to conclude that people needed to discriminate less and have less bias. A common explanation is that education is necessary to correct bias and reduce future criminal activity. While we wholeheartedly agree that this is an essential component of addressing this issue, hate crimes are still complex occurrences of many factors. Therefore, a singular one-fits-all approach would not address hate crime patterns sufficiently.

We have seen that the causes behind crimes and specifically hate crimes, are expected to be highly multi-dimensional and, thus, impossible to assign a single reason to an incident. Additionally, many studies view the prevalence of hate crimes as attributed to trends or spikes. For example, the 2020 COVID pandemic saw a spike in Anti-Asian hate crimes due to negative stereotyping of Asian-Americans concerning COVID-19. One would expect that with the increase in high school completion or education, the hate crimes would decrease. This reality makes us realize that additional factors influence hate crimes in these cities. We are doubtful that these trends or spikes can be due to a particular reason and that perhaps, many other factors have been at work before the global pandemic.

A robust analysis of the causes behind hate crimes will need the flexibility to explore and analyze the data with additional or related datasets regarding human well-being that can help inform us about hate crime patterns. We intend to solve this problem by creating a robust application that considers various factors surrounding hate crimes to understand why these crimes happen in the first place.

## Related Work

Studies on the true intention behind occurrences of hate crimes have shown that hate crime offenders are not always motivated by a single factor. They are driven by multiple factors. To fully understand the nature of these hate crimes, situational factors like location and victim-offender relationships need consideration. These factors may result in certain types of offenses and hate motivation. Research shows that hate crimes may also be the product of social environments. Hate crimes are more likely to occur where society is structured to benefit some communities like white, male, heterosexual, over others.[1]

Studies in the psychology of offenders committing hate crimes suggest that hate crime offenders usually belong to one of four categories. Thrill-seekers are those motivated by thrill and excitement. Defensive are those motivated by a desire to protect their territory. Retaliators are those who act in retaliation for a perceived attack against their group. Missions are perpetrators who make it their mission to eradicate difference. The causes of hate crimes are not yet conclusive. However, there is evidence within social psychology that suggests that offenders might be influenced by their perception of some groups posing a threat to them. These threats are either realistic threats - competition over jobs, housing, and other resources, and physical harm to themselves, or symbolic - threats posed to the values and social norms of people.[1]
 
Research on countries with the least hate crimes enables us to identify reasons why they remained successful in minimizing such crimes. Denmark, known to be one of the safest countries, has a high level of equality and a strong sense of responsibility for social welfare. Denmark also provides its people with services and perks helping them to live comfortable lives. In addition to this, it provides its citizens with free access to healthcare, tuition-free education, and at-home care helpers for the elderly. Since everyone’s basic needs are satisfied, and every citizen is respected, Denmark has maintained its low hate crime rates. Singapore has resorted to strict penalties even on minor crimes that have enabled them to keep overall hate crimes low. The government has strict controls on guns and firearms, resulting in a significant reduction in occurrences of violent crimes. The United States of America can follow suit and implement such measures within the parameters of its own socio-economic and political measures to improve its hate crime rates.[2]

## Methods
During the data preprocessing stage, we realized that to leverage some of the categorical variables of interest for our analysis, we needed to convert them to a binary representation. Features with values for a different category could be represented by one-hot-encoding (OHE). OHE allows us to convert a column with categorical variables with a binary representation. The result is an expanded version of the column with a binary encoding for whether the variable belongs to that record. We applied this principle to the OFFENDER_RACE column since each hate crime incident contained a distinct variable for the OFFENDER_RACE in the incident. Multiple races were represented with the designation OFFENDER_RACE_Multiple. Other features were trickier because they were multi-labeled features. However, we still wanted to represent them in a binary form. With OHE, we would use the OneHoteEncoder class in sklearn to convert our categorical features into a binary format. To represent multi-labeled features, we would use MultiLabelBinarizer, also from sklearn. A notable example of this can be seen in our BIAS_DESC column. As we understand how hate crimes are motivated, hate crimes can be motivated by multiple biases. Therefore the BIAS_DESC can be considered a multi-label feature. Like OHE, the column would be expanded, except now multiple assignments can be made to a single incident if multiple biases are involved. The OFFENSE_NAME, VICTIM_TYPES, and LOCATION_NAME are also features that are multi-labeled, and MultiLabelBinarizer can be applied to them. Binarizing our categorical features allows us to better represent features in an interpretable and conducive way for analysis. It enables us to represent them as numerical values in our clustering algorithm and visualizations.
 
One set of techniques used on the FBI Hate Crimes dataset is a dimensionality reduction technique called UMAP and a clustering technique called DBSCAN. With the help of these two techniques, we created a series of charts that clustered on the data points and labeled them accordingly. The idea is to highlight similar pairwise points together so that by grouping them, we can determine what their similar attributes are. With dimensionality reduction, we can embed the data from a higher dimension into a lower-dimensional space that can still retain information or structure in the data. We knew that we didn't want to use Principal Component Analysis (PCA) since that technique uses a linear projection of the data and tends to overemphasize the global structure of the data rather than preserve local structures. Tests using PCA yielded groupings that were rather unsatisfactory to how we expected to behave. The next step was to see if using a probabilistic interpretation of pairwise similarities would fare better for our analysis. It is with this we could use t-SNE to construct our embeddings. However, with t-SNE, our resulting 2-dimensional embeddings resulted in clusters that seemed too apparent as the pairwise similarities between points seemed to be magnified. Upon further analysis, it appeared that t-SNE was preserving much of the local structure in the data. We then also embedded our data using DensMAP, a variation of UMAP. Compared to t-SNE, DensMAP seemed to work better in terms of preserving a balance of local and global structure. Despite DensMAP performing relatively slower than t-SNE, we felt that DensMAP provided a more accurate representation of the global structure of the data. Next, we decided to use a nonparametric clustering algorithm like DBSCAN as it allows us to focus on densities instead of assuming that the data follows a Gaussian distribution. The densities computed enable us to create multi-labeled predictions for which cluster the points fall within. This prediction allowed us to extend the functionality of our visualization, as we can now iteratively add more information that can help explain the distribution of our data. We decided to work with about 1000 samples to allow our application to compile and run in a reasonable amount of time. 
 
The feature importance (variable importance) describes which features are relevant and helps us give a better understanding of what factors are affecting the hate crimes in a particular city. For feature importance, we started by pivoting the original ‘city_data’ dataset in such a way that each unique feature/metric is the column and the cities are the individual columns present in the dataset. The final dataset utilized includes the ‘est’ values for each city in the metric columns, as well as the state in which the city is located in the state abbr column. After this, we combined this dataset with the hate_crime dataset on the city name and state abbreviation and included the number of crimes in that city as an additional column in the final dataset. This column was used as the target column in the feature importance. The city name and the state abbreviation are further dropped for running the ML algorithm. We have chosen the Random Forest Regressor to fit our model. The X-axis contains all the features and the Y-axis contains the number of crimes. Other algorithms, such as logistic regression, delivered us identical feature importance, thus we proceeded with the random forest regressor. 
For pre-processing and cleaning the city_data, we loaded it as a data frame using the pandas library. We obtained our dataset from “https://www.cityhealthdashboard.com/”. The database had more than 20 metrics about a city but we selected only those features that related to our work on hate crimes and might affect the number of crimes in the city. We have considered only those rows that contained the relevant feature in our data frame. We also dropped all the irrelevant columns and only kept those columns that informed us about the metric of a city like the metric_name and est. There were around 70 rows with null est values; those were dropped as they did not provide useful information.

## App Working
The App is divided into the following six sections:
1. Home - Describe the concept of our project, the reasons for choosing this issue, the question we want to address, and the goal we want to achieve through it.


## Discussion

## Future Work
